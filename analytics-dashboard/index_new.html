<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Dashboard - Weekly Circular Performance</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/icons/favicon.ico">

    <!-- Preload critical resources -->
    <link rel="preload" href="js/mock-data/004-data.js" as="script">
    <link rel="preload" href="js/app_new.js" as="script">
</head>
<body>
    <!-- Enhanced header from prototype_001 -->
    <header class="dashboard-header page-header" id="app-header">
        <div class="header-container">
            <div class="header-left">
                <div class="title-container">
                    <h1>Analytics Dashboard</h1>
                </div>
            </div>
            <div class="header-center">
                <div id="week-context" class="week-context">
                    <div class="week-line">
                        <span class="status" id="week-status" style="color:var(--muted)">Week 36: Sep 18-24, 2025 (Day 5 of 7)</span>
                        <select id="week-select" class="week-select">
                            <option value="w36">Week 36: Sep 18-24, 2025 (Day 5 of 7)</option>
                            <option value="w35">Week 35: Sep 11-17, 2025</option>
                            <option value="w34">Week 34: Sep 4-10, 2025</option>
                            <option value="w33">Week 33: Aug 28-Sep 3, 2025</option>
                            <option value="last_month">Last Month</option>
                            <option value="ytd">Year to Date</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="header-right">
                <div class="filters-stack">
                    <div class="filter-row">
                        <label for="version-select">Version:</label>
                        <select id="version-select">
                            <option value="all">All</option>
                            <option value="v1">Version 1</option>
                            <option value="v2">Version 2</option>
                        </select>
                    </div>
                    <div class="filter-row">
                        <label for="store-select">Store:</label>
                        <select id="store-select">
                            <option value="all_stores">All Stores</option>
                            <option value="northeast">Northeast Region</option>
                            <option value="southeast">Southeast Region</option>
                            <option value="store_123">Store #123 - Miami Lakes</option>
                            <option value="store_456">Store #456 - Kendall</option>
                            <option value="store_789">Store #789 - Hialeah</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Navigation -->
        <nav class="main-nav">
            <ul class="nav-list">
                <li><a href="index.html" class="nav-item active">Overview</a></li>
                <li><a href="explore.html" class="nav-item">Explore</a></li>
                <li><a href="analyze.html" class="nav-item">Analyze</a></li>
                <li><a href="reports.html" class="nav-item">Reports</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main dashboard content -->
    <main class="dashboard-main main-content">
        <!-- YTD Performance Strip - copied exactly -->
        <section class="ytd-metrics-section">
            <div class="ytd-strip">
                <div class="ytd-metric">
                    <span class="label">YTD Traffic:</span>
                    <span class="value">2.8M views</span>
                    <span class="trend positive">+12.4% YoY</span>
                </div>
                <div class="ytd-metric">
                    <span class="label">Digital Adoption:</span>
                    <span class="value">73.2%</span>
                    <span class="trend positive">+8% from 2024</span>
                </div>
                <div class="ytd-metric">
                    <span class="label">Print Rate:</span>
                    <span class="value">18.5%</span>
                    <span class="trend negative">-3%</span>
                </div>
            </div>
        </section>

        <!-- KPI Tiles - exactly 3 tiles, no duplicates -->
        <section class="kpi-tiles-section">
            <div class="container">
                <div class="dashboard-row-week">
                    <!-- Digital Circular Performance (Week) -->
                    <div class="kpi-tile positive" id="digital-circular-performance-week">
                        <div class="card-head">
                            <div class="card-head-left">
                                <h3>Digital Circular Performance <br>(Week)</h3>
                                <button class="info-btn" aria-label="Show definition for Digital Circular Performance (Week)" tabindex="0" data-tooltip-content="%7B%22title%22%3A%22Digital%20Circular%20Performance%20%3Cbr%3E(Week)%22%2C%22tooltip%22%3A%22Compares%20total%20promotion%20engagement%20this%20week%20against%20last%20week's%20performance%22%2C%22whyImportant%22%3A%22Quickly%20identify%20if%20your%20circular%20is%20trending%20up%20or%20down%2C%20enabling%20early%20course%20corrections%22%7D">
                                    <span aria-hidden="true">i</span>
                                </button>
                            </div>
                            <div class="card-head-right">
                                <button class="detail-btn" onclick="window.location.href='analyze.html?view=week-performance'">Inquiry →</button>
                            </div>
                        </div>
                        <div class="kpi-content">
                            <div class="big-number-container">
                                <div class="big-number">94%</div>
                                <div class="sub-text">Average of All Promotions</div>
                            </div>
                            <div class="trend positive">
                                +6% vs Week 39
                            </div>
                            <div class="week-day">
                                Week 40 of 52 • Day 5 of 7
                            </div>
                        </div>
                    </div>

                    <!-- Traffic (Week) -->
                    <div class="kpi-tile positive" id="traffic-week">
                        <div class="card-head">
                            <div class="card-head-left">
                                <h3>Traffic <br>(Week)</h3>
                                <button class="info-btn" aria-label="Show definition for Traffic (Week)" tabindex="0" data-tooltip-content="%7B%22title%22%3A%22Traffic%20%3Cbr%3E(Week)%22%2C%22tooltip%22%3A%22Total%20unique%20visitors%20across%20all%20stores%20viewing%20digital%20circular%20content%20this%20week%20compared%20to%20last%20week%22%2C%22whyImportant%22%3A%22Monitor%20overall%20audience%20reach%20and%20engagement%20trends%20to%20identify%20seasonal%20patterns%20and%20marketing%20effectiveness%22%7D">
                                    <span aria-hidden="true">i</span>
                                </button>
                            </div>
                            <div class="card-head-right">
                                <button class="detail-btn" onclick="window.location.href='analyze.html?view=traffic'">Inquiry →</button>
                            </div>
                        </div>
                        <div class="kpi-content">
                            <div class="big-number-container">
                                <div class="big-number">31,240</div>
                                <div class="sub-text">Total Visitors</div>
                            </div>
                            <div class="trend positive">
                                +9.4% vs Week 39
                            </div>
                            <div class="week-day">
                                Week 40 of 52 • All Stores
                            </div>
                        </div>
                    </div>

                    <!-- Share Activity (Week) -->
                    <div class="kpi-tile positive" id="share-activity-week">
                        <div class="card-head">
                            <div class="card-head-left">
                                <h3>Share Activity <br>(Week)</h3>
                                <button class="info-btn" aria-label="Show definition for Share Activity (Week)" tabindex="0" data-tooltip-content="%7B%22title%22%3A%22Share%20Activity%20%3Cbr%3E(Week)%22%2C%22tooltip%22%3A%22Tracks%20how%20often%20customers%20share%20your%20promotions%20socially%2C%20indicating%20brand%20amplification%22%2C%22whyImportant%22%3A%22Understand%20which%20promotions%20generate%20word-of-mouth%20marketing%20beyond%20your%20direct%20reach%22%7D">
                                    <span aria-hidden="true">i</span>
                                </button>
                            </div>
                            <div class="card-head-right">
                                <button class="detail-btn" onclick="window.location.href='analyze.html?view=sharing'">Inquiry →</button>
                            </div>
                        </div>
                        <div class="kpi-content">
                            <div class="big-number-container">
                                <div class="big-number">178</div>
                                <div class="sub-text">Total Promotions Shared</div>
                            </div>
                            <div class="trend positive">
                                +18% vs last week
                            </div>
                            <div class="week-day">
                                Social amplification metric
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Performance Charts (Day + Interaction Rate) -->
        <section class="performance-charts-section">
            <div class="container">
                <div class="row-container-performance">
                    <!-- Digital Circular Performance (Day) - ECharts implementation in Phase 3A -->
                    <div class="card" id="performance-day-chart-container">
                        <div class="card-head">
                            <div class="card-head-left">
                                <h3>Digital Circular Performance (Day)</h3>
                                <button class="info-btn" aria-label="Show definition for Digital Circular Performance" tabindex="0" data-tooltip-content="%7B%22title%22%3A%22Digital%20Circular%20Performance%20%3Cbr%3E(Day)%22%2C%22tooltip%22%3A%22Daily%20trend%20of%20promotion%20engagement%20showing%20performance%20fluctuations%20throughout%20the%20week%22%2C%22whyImportant%22%3A%22Identify%20daily%20patterns%20and%20optimize%20promotion%20timing%20for%20maximum%20engagement%22%7D">
                                    <span aria-hidden="true">i</span>
                                </button>
                            </div>
                            <div class="card-head-right">
                                <button class="detail-btn" onclick="window.location.href='analyze.html?view=performance'">Inquiry →</button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div id="performance-day-chart" style="width: 100%; height: 300px;"></div>
                        </div>
                    </div>

                    <!-- Interaction Rate - ECharts implementation in Phase 3B -->
                    <div class="card" id="interaction-rate-chart-container">
                        <div class="card-head">
                            <div class="card-head-left">
                                <h3>Interaction Rate</h3>
                                <button class="info-btn" aria-label="Show definition for Interaction Rate" tabindex="0" data-tooltip-content="%7B%22title%22%3A%22Interaction%20Rate%20Funnel%22%2C%22tooltip%22%3A%224-segment%20funnel%20tracking%20user%20engagement%20from%20never%20viewed%20to%20added%20to%20list%2C%20showing%20complete%20interaction%20journey.%22%2C%22whyImportant%22%3A%22Reveals%20where%20users%20drop%20off%20in%20the%20engagement%20process%20and%20identifies%20optimization%20opportunities.%22%7D">
                                    <span aria-hidden="true">i</span>
                                </button>
                            </div>
                            <div class="card-head-right">
                                <button class="detail-btn" onclick="window.location.href='analyze.html?view=interaction'">Inquiry →</button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div id="interaction-rate-chart" style="width: 100%; height: 300px;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Categories and Promotions - Copied exactly from working version -->
        <section class="categories-promotions-section">
            <div class="container">
                <div class="categories-performance-row">
                    <!-- Top Performing Categories - copied exactly -->
                    <div class="card chart-card" id="top-categories-card">
                        <div class="card-head">
                            <div class="card-head-left">
                                <h3>Top Performing Categories</h3>
                                <button class="info-btn" aria-label="Show definition for Top Performing Categories" tabindex="0" data-tooltip-content="%7B%22title%22%3A%22Top%20Performing%20Categories%22%2C%22tooltip%22%3A%22Shows%20which%20product%20categories%20are%20driving%20the%20most%20customer%20engagement%22%2C%22whyImportant%22%3A%22Double%20down%20on%20successful%20categories%20and%20apply%20winning%20strategies%20to%20underperformers%22%7D">
                                    <span aria-hidden="true">i</span>
                                </button>
                            </div>
                            <div class="card-head-right">
                                <button class="detail-btn" onclick="window.location.href='analyze.html?view=categories'">Inquiry →</button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="category-ranking">
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">1. Featured</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">100</span>
                                        <span class="trend positive" style="font-size: 0.75rem; min-width: 50px; text-align: center;">+5%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">2. Farm Fresh</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">96</span>
                                        <span class="trend negative" style="font-size: 0.75rem; min-width: 50px; text-align: center;">-2%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">3. Good Food Matters</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">74</span>
                                        <span class="trend positive" style="font-size: 0.75rem; min-width: 50px; text-align: center;">+8%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">4. Custom Cuts</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">69</span>
                                        <span class="trend positive" style="font-size: 0.75rem; min-width: 50px; text-align: center;">+3%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">5. Deals For Days</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">63</span>
                                        <span class="trend neutral" style="font-size: 0.75rem; min-width: 50px; text-align: center;">0%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">6. Beef Pork Chicken</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">53</span>
                                        <span class="trend positive" style="font-size: 0.75rem; min-width: 50px; text-align: center;">+1%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">7. Fresh Is A Promise</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">52</span>
                                        <span class="trend negative" style="font-size: 0.75rem; min-width: 50px; text-align: center;">-3%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">8. Flavors Of The Sea</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">43</span>
                                        <span class="trend positive" style="font-size: 0.75rem; min-width: 50px; text-align: center;">+2%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">9. Everyday Living</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">38</span>
                                        <span class="trend neutral" style="font-size: 0.75rem; min-width: 50px; text-align: center;">0%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">10. Weekly Bogo's</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">26</span>
                                        <span class="trend negative" style="font-size: 0.75rem; min-width: 50px; text-align: center;">-5%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">11. Beverages</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">26</span>
                                        <span class="trend negative" style="font-size: 0.75rem; min-width: 50px; text-align: center;">-12%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">12. Beer And Wine</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">26</span>
                                        <span class="trend positive" style="font-size: 0.75rem; min-width: 50px; text-align: center;">+4%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">13. Great Quality Low Prices</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">17</span>
                                        <span class="trend neutral" style="font-size: 0.75rem; min-width: 50px; text-align: center;">0%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">14. Banners</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">16</span>
                                        <span class="trend positive" style="font-size: 0.75rem; min-width: 50px; text-align: center;">+1%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">15. Organic Produce</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">15</span>
                                        <span class="trend negative" style="font-size: 0.75rem; min-width: 50px; text-align: center;">-2%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">16. Flowers</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">8</span>
                                        <span class="trend neutral" style="font-size: 0.75rem; min-width: 50px; text-align: center;">0%</span>
                                    </div>
                                </div>
                                <div class="rank-item" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xs) 0; border-bottom: 1px solid var(--light-gray);">
                                    <span style="font-weight: 600; font-size: 0.875rem;">17. Household Goods</span>
                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                        <span style="font-weight: 700; color: var(--dark-gray); min-width: 40px; text-align: right; display: inline-block;">4</span>
                                        <span class="trend negative" style="font-size: 0.75rem; min-width: 50px; text-align: center;">-15%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Top Performing Promotions - copied exactly -->
                    <div class="card chart-card" id="promotion-performance">
                        <div class="card-head">
                            <div class="card-head-left">
                                <h3>Top Performing Promotions</h3>
                                <button class="info-btn" aria-label="Show definition for Performance" tabindex="0" data-tooltip-content="%7B%22title%22%3A%22Enhanced%20Promotions%20Performance%22%2C%22tooltip%22%3A%22Real-time%20analytics%20showing%20current%20week%20promotion%20effectiveness%20across%20all%20circular%20positions%20and%20deal%20types.%22%2C%22whyImportant%22%3A%22Critical%20for%20understanding%20which%20promotion%20strategies%20drive%20the%20highest%20engagement%20and%20conversion%20rates.%22%7D">
                                    <span aria-hidden="true">i</span>
                                </button>
                            </div>
                            <div class="card-head-right">
                                <button class="detail-btn" onclick="window.location.href='analyze.html?view=promotions'">Inquiry →</button>
                            </div>
                        </div>
                        <div class="promo-controls">
                            <div class="promo-buttons">
                                <button class="score-type-btn active" data-score="composite">Composite</button>
                                <button class="score-type-btn" data-score="percentile">Percentile</button>
                            </div>
                            <div class="promo-topn-input">
                                <label for="pp-topn">Top</label>
                                <select id="pp-topn" style="background:var(--card);color:var(--text);border:1px solid var(--border);border-radius:8px;padding:4px 8px;font-size:12px">
                                    <option value="10" selected="">10</option>
                                    <option value="25">25</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                </select>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="promotion-list">
                                <div class="promotion-item">
                                    <div class="promotion-rank">1.</div>
                                    <div class="promotion-thumbnail">
                                        <img src="images/mock-image.png" alt="Premium Ribeye Steak" onerror="this.src='images/mock-image.png'">
                                    </div>
                                    <div class="promotion-details">
                                        <div class="promotion-name">Premium Ribeye Steak</div>
                                        <div class="promotion-meter">
                                            <div class="microbar">
                                                <div class="microbar-fill" style="width: 100%"></div>
                                            </div>
                                            <div class="promotion-score">3423</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="promotion-item">
                                    <div class="promotion-rank">2.</div>
                                    <div class="promotion-thumbnail">
                                        <img src="images/mock-image.png" alt="Fresh Maine Lobster" onerror="this.src='images/mock-image.png'">
                                    </div>
                                    <div class="promotion-details">
                                        <div class="promotion-name">Fresh Maine Lobster</div>
                                        <div class="promotion-meter">
                                            <div class="microbar">
                                                <div class="microbar-fill" style="width: 99%"></div>
                                            </div>
                                            <div class="promotion-score">3390</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="promotion-item">
                                    <div class="promotion-rank">3.</div>
                                    <div class="promotion-thumbnail">
                                        <img src="images/mock-image.png" alt="Organic Free-Range Chicken" onerror="this.src='images/mock-image.png'">
                                    </div>
                                    <div class="promotion-details">
                                        <div class="promotion-name">Organic Free-Range Chicken</div>
                                        <div class="promotion-meter">
                                            <div class="microbar">
                                                <div class="microbar-fill" style="width: 98%"></div>
                                            </div>
                                            <div class="promotion-score">3349</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="promotion-item">
                                    <div class="promotion-rank">4.</div>
                                    <div class="promotion-thumbnail">
                                        <img src="images/mock-image.png" alt="Fresh Maine Lobster" onerror="this.src='images/mock-image.png'">
                                    </div>
                                    <div class="promotion-details">
                                        <div class="promotion-name">Fresh Maine Lobster</div>
                                        <div class="promotion-meter">
                                            <div class="microbar">
                                                <div class="microbar-fill" style="width: 97%"></div>
                                            </div>
                                            <div class="promotion-score">3319</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="promotion-item">
                                    <div class="promotion-rank">5.</div>
                                    <div class="promotion-thumbnail">
                                        <img src="images/mock-image.png" alt="Farm Fresh Eggs" onerror="this.src='images/mock-image.png'">
                                    </div>
                                    <div class="promotion-details">
                                        <div class="promotion-name">Farm Fresh Eggs</div>
                                        <div class="promotion-meter">
                                            <div class="microbar">
                                                <div class="microbar-fill" style="width: 96%"></div>
                                            </div>
                                            <div class="promotion-score">3284</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="promotion-item">
                                    <div class="promotion-rank">6.</div>
                                    <div class="promotion-thumbnail">
                                        <img src="images/mock-image.png" alt="Premium Ribeye Steak" onerror="this.src='images/mock-image.png'">
                                    </div>
                                    <div class="promotion-details">
                                        <div class="promotion-name">Premium Ribeye Steak</div>
                                        <div class="promotion-meter">
                                            <div class="microbar">
                                                <div class="microbar-fill" style="width: 95%"></div>
                                            </div>
                                            <div class="promotion-score">3255</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="promotion-item">
                                    <div class="promotion-rank">7.</div>
                                    <div class="promotion-thumbnail">
                                        <img src="images/mock-image.png" alt="Premium Ribeye Steak" onerror="this.src='images/mock-image.png'">
                                    </div>
                                    <div class="promotion-details">
                                        <div class="promotion-name">Premium Ribeye Steak</div>
                                        <div class="promotion-meter">
                                            <div class="microbar">
                                                <div class="microbar-fill" style="width: 95%"></div>
                                            </div>
                                            <div class="promotion-score">3249</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="promotion-item">
                                    <div class="promotion-rank">8.</div>
                                    <div class="promotion-thumbnail">
                                        <img src="images/mock-image.png" alt="Fresh Maine Lobster" onerror="this.src='images/mock-image.png'">
                                    </div>
                                    <div class="promotion-details">
                                        <div class="promotion-name">Fresh Maine Lobster</div>
                                        <div class="promotion-meter">
                                            <div class="microbar">
                                                <div class="microbar-fill" style="width: 94%"></div>
                                            </div>
                                            <div class="promotion-score">3218</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="promotion-item">
                                    <div class="promotion-rank">9.</div>
                                    <div class="promotion-thumbnail">
                                        <img src="images/mock-image.png" alt="Local Tomatoes" onerror="this.src='images/mock-image.png'">
                                    </div>
                                    <div class="promotion-details">
                                        <div class="promotion-name">Local Tomatoes</div>
                                        <div class="promotion-meter">
                                            <div class="microbar">
                                                <div class="microbar-fill" style="width: 93%"></div>
                                            </div>
                                            <div class="promotion-score">3183</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="promotion-item">
                                    <div class="promotion-rank">10.</div>
                                    <div class="promotion-thumbnail">
                                        <img src="images/mock-image.png" alt="Organic Free-Range Chicken" onerror="this.src='images/mock-image.png'">
                                    </div>
                                    <div class="promotion-details">
                                        <div class="promotion-name">Organic Free-Range Chicken</div>
                                        <div class="promotion-meter">
                                            <div class="microbar">
                                                <div class="microbar-fill" style="width: 93%"></div>
                                            </div>
                                            <div class="promotion-score">3182</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Charts (Size + Deal) - ECharts implementation in Phase 3C -->
        <section class="analytics-charts-section">
            <div class="container">
                <div class="dashboard-row-week">
                    <div class="size-deal">
                        <div class="grid two-up">
                            <!-- Card Size Section -->
                            <div class="size">
                                <h5 class="subsection-header">Card Size</h5>
                                <div class="grid two-col">
                                    <!-- Size Class Mix - ECharts donut -->
                                    <div class="card small" id="size-mix-chart-container">
                                        <div class="card-head">
                                            <div class="card-head-left">
                                                <h3>Size Class Mix</h3>
                                                <button class="info-btn" aria-label="Show definition for Size Class Mix" tabindex="0" data-tooltip-content="%7B%22title%22%3A%22Size%20Class%20Mix%22%2C%22tooltip%22%3A%22Distribution%20of%20promotion%20card%20sizes%20showing%20the%20percentage%20breakdown%20across%20all%20sizes%20(1X1%2C%202X1%2C%203X2%2C%20etc.)%22%2C%22whyImportant%22%3A%22Helps%20optimize%20circular%20layout%20by%20understanding%20which%20sizes%20are%20most%20commonly%20used%20and%20their%20effectiveness.%22%7D">
                                                    <span aria-hidden="true">i</span>
                                                </button>
                                            </div>
                                            <div class="card-head-right">
                                                <button class="detail-btn" onclick="window.location.href='analyze.html?view=size'">Inquiry →</button>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <div id="size-mix-chart" style="width: 100%; height: 250px;"></div>
                                        </div>
                                    </div>

                                    <!-- Size Performance - ECharts horizontal bars -->
                                    <div class="card small" id="size-performance-chart-container">
                                        <div class="card-head">
                                            <div class="card-head-left">
                                                <h3>Size Performance</h3>
                                                <button class="info-btn" aria-label="Show definition for Size Performance" tabindex="0" data-tooltip-content="%7B%22title%22%3A%22Size%20Performance%22%2C%22tooltip%22%3A%22Average%20composite%20performance%20scores%20by%20card%20size%2C%20ranked%20from%20highest%20to%20lowest%20performing%20sizes.%22%2C%22whyImportant%22%3A%22Identifies%20which%20card%20sizes%20drive%20the%20best%20engagement%20and%20conversion%20rates%20for%20strategic%20layout%20planning.%22%7D">
                                                    <span aria-hidden="true">i</span>
                                                </button>
                                            </div>
                                            <div class="card-head-right">
                                                <button class="detail-btn" onclick="window.location.href='analyze.html?view=size_performance'">Inquiry →</button>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <div id="size-performance-chart" style="width: 100%; height: 250px;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Deal Type Section -->
                            <div class="deal">
                                <h5 class="subsection-header">Deal Type</h5>
                                <!-- Deal Type Preference - ECharts donut -->
                                <div class="card small" id="deal-type-chart-container">
                                    <div class="card-head">
                                        <div class="card-head-left">
                                            <h3>Deal Type Preference</h3>
                                            <button class="info-btn" aria-label="Show definition for Deal Type Preference" tabindex="0" data-tooltip-content="%7B%22title%22%3A%22Deal%20Type%20Preference%22%2C%22tooltip%22%3A%22Distribution%20of%20deal%20types%20across%20all%20promotions%20showing%20customer%20preference%20patterns%20(Fixed%20Price%2C%20Club%20Price%2C%20BOGO%2C%20etc.)%22%2C%22whyImportant%22%3A%22Reveals%20which%20deal%20structures%20are%20most%20popular%20and%20helps%20optimize%20promotional%20strategy%20mix.%22%7D">
                                                <span aria-hidden="true">i</span>
                                            </button>
                                        </div>
                                        <div class="card-head-right">
                                            <button class="detail-btn" onclick="window.location.href='analyze.html?view=deal_preference'">Inquiry →</button>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <div id="deal-type-chart" style="width: 100%; height: 250px;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Scripts -->
    <script src="vendor/echarts.min.js"></script>
    <script src="js/mock-data/004-data.js"></script>
    <script src="js/charts_new.js"></script>
    <script src="js/components_new.js"></script>
    <script src="js/app_new.js"></script>

    <!-- Initialize Application -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Single initialization point
            if (window.dashboardInstance) {
                console.log('⚠️ Dashboard instance already exists');
                return;
            }

            window.dashboardInstance = new AnalyticsDashboard();
            window.dashboardInstance.init();
        });
    </script>
</body>
</html>