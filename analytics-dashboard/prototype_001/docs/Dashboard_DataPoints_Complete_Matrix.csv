Section,Row,Data Point,Definition / Notes,Implementation Status,Data Source,Computation Logic,Priority Level,Dependencies,Prototype Coverage,Additional Notes
Global Controls (Header),-,Banner / Sub-brand Name,Display current subbrand context,Complete,Static Config,Direct mapping from subbrand selection,P0,None,✅ Implemented,"Currently shows ""Analytics Dashboard"""
Global Controls (Header),-,Version Selector,Filter data by circular version (A/B/C),Complete,Firebase,Query versions by circular_id,P0,Circular ID mapping,✅ Implemented,Version dropdown populated from mock data
Global Controls (Header),-,Week Selector,Select analysis time period,Complete,Static/Computed,Generate week ranges from current date,P0,None,✅ Implemented,Uses 2025-W36 format with date ranges
Global Controls (Header),-,Store Selector,Filter by specific store location,Complete,Firebase,Query distinct store_ids,P1,Store ID standardization,✅ Implemented,Vertical stack layout with labels
Circular,Row 1,Traffic,Total site visits for selected period,Complete,GA4,SUM(session_count) WHERE date_range,P0,GA4 Integration,✅ Implemented,Renamed from Site Visits for clarity
Circular,Row 1,Engagement Rate,Percentage of visitors who interact with content,Complete,GA4 + Computed,"(circular_visits / site_visits) * 100",P0,GA4 Integration,✅ Implemented,Replaces original Engagement Rate
Circular,Row 1,Weekly Growth,Percentage change vs previous week,Complete,Computed,"((current_week - previous_week) / previous_week) * 100",P0,Historical data,✅ Implemented,New KPI for trend insight
Circular,Row 2,Trend Overview (4 weeks),Weekly performance comparison chart,Planned,GA4 + Computed,Rolling 4-week aggregation with weekly normalization,P1,Historical GA4 data,⚠️ Mock Data Only,Uses week_id for trend normalization
Circular,Row 2,Promotion Position Performance (PPP),Performance by position quartiles,Blocked,Computed + Generated,Generate position quartiles from composite scores,P2,Position ID generation,⚠️ Mock Data Only,Positions not present in Firebase
Circular,Row 2,Store Lift vs Engagement,Scatter plot: engagement rate vs conversion lift,Planned,GA4 + Firebase,"For each store: (engagement_pct, lift_pct, size)",P1,Store-level analytics,⚠️ Mock Data Only,Should use Add_to_list events
Category,Row 3,Category Performance (Engagement Share),Category distribution by engagement metrics,In Progress,Firebase + Computed,Group promotions by normalized category_id,P1,Category standardization,⚠️ Limited Coverage,Categories need vendor normalization
Category,Row 3,Top Categories by Avg Engagement,Ranking of best performing categories,In Progress,Firebase + Computed,"AVG(engagement_score) GROUP BY category_id ORDER BY DESC",P1,Category standardization,⚠️ Limited Coverage,Depends on normalized categories
Promotions,Row 4,Promotion Performance List,Ranked list of promotion performance,Complete,Firebase + Computed,"Composite score: CIV + (CC * 10) + (ATL * 50)",P0,Engagement metrics,✅ Implemented,Data grid with PrimeNG TreeTable
Promotions,Row 5,Size Class Mix,Distribution across S/M/L size classes,Planned,Firebase + Generated,"Classify LxH dimensions: S(<200px), M(200-400px), L(>400px)",P2,Size classification logic,❌ Not Implemented,Dynamic hXw based on grid settings
Promotions,Row 5,Best Performing Size Class,Top performing size by engagement,Planned,Computed,"MAX(AVG(engagement_score)) GROUP BY size_class",P2,Size classification,❌ Not Implemented,Depends on size class definition
Promotions,Row 5,Expanded Interaction Rate,Rate of card expansion/interaction,Planned,GA4,"(card_expand_events / card_view_events) * 100",P2,Event tracking setup,❌ Not Implemented,Card Click vs Card Add to List decision needed
Promotions,Row 5,Size Effect Index,Impact factor of promotion size on performance,Planned,Computed,"Correlation coefficient between size_class and engagement_score",P2,Size classification + stats,❌ Not Implemented,Requires statistical modeling
Promotions,Row 6,Shared Promotions,Count of promotions shared externally,Planned,GA4,COUNT(share_events) WHERE event_name = 'share_promotion',P2,Share event tracking,❌ Not Implemented,Sharing feature implementation needed
Promotions,Row 6,Share Open Rate,Percentage of shared links opened,Planned,GA4,"(share_open_events / share_sent_events) * 100",P2,Share tracking + UTM,❌ Not Implemented,Requires UTM parameter tracking
Promotions,Row 6,Share Add-to-List Rate,Conversion rate from shared promotions,Planned,GA4,"(share_atl_events / share_open_events) * 100",P2,Share tracking + conversion,❌ Not Implemented,End-to-end share conversion tracking
Always Visible KPIs,-,Site Visits,Total website sessions,Complete,GA4,SUM(sessions) WHERE date_range AND source != 'bot',P0,GA4 Integration,✅ Implemented,Used in Traffic calculation
Always Visible KPIs,-,Circular Visits,Sessions with circular page views,Complete,GA4,"COUNT(DISTINCT session_id) WHERE page_path LIKE '/circular/%'",P0,GA4 Integration,✅ Implemented,Used in Engagement Rate calculation
Always Visible KPIs,-,Unique Users,Distinct users in time period,Complete,GA4,COUNT(DISTINCT user_id) WHERE date_range,P0,GA4 Integration,✅ Implemented,User-level deduplication
Canonical IDs,-,CircularID,Unique identifier for each circular,Complete,Firebase,Direct mapping from Firebase document ID,P0,None,✅ Implemented,Present as ID field
Canonical IDs,-,VersionID,Identifier for A/B/C test versions,Planned,Generated,"Generate from circular_id + version_suffix (A/B/C)",P0,Circular ID,⚠️ Generated in Code,Not present in Firebase - needs generation
Canonical IDs,-,CategoryID,Normalized category identifier,In Progress,Generated + Mapping,"Create mapping table for vendor-specific categories",P1,Category mapping logic,⚠️ Partial Implementation,Requires cross-vendor normalization
Canonical IDs,-,PromotionID,Unique identifier for each promotion,Planned,Generated,"Generate from circular_id + position + hash(content)",P0,Content hashing logic,⚠️ Generated in Code,Not present - needs generation strategy
Canonical IDs,-,ProductID,Product identifier (UPC),Complete,Firebase,Direct mapping from UPC field,P0,None,✅ Implemented,Present as UPC
Canonical IDs,-,StoreID,Store location identifier,Complete,Firebase,Direct mapping from store field,P0,None,✅ Implemented,Present in data
Canonical IDs,-,PositionID,Position within circular layout,Blocked,Generated,"Generate from layout coordinates or sequential numbering",P2,Layout analysis logic,❌ Not Implemented,Not present in Firebase
Canonical IDs,-,Engagement Metrics,User interaction measurements,Complete,GA4,"CIV (views), CC (clicks), ATL (add-to-list) events",P0,GA4 Event tracking,✅ Implemented,Present in GA4
Canonical IDs,-,Composite Score,Overall performance metric,Complete,Computed,"CIV + (CC * 10) + (ATL * 50) with normalization",P0,Engagement metrics,✅ Implemented,Weighted scoring algorithm
Canonical IDs,-,Percentile & Quartile,Performance ranking within cohort,Complete,Computed,"PERCENTRANK() function with statistical distribution",P0,Composite scores,✅ Implemented,Statistical ranking implementation
Drill-down Context,-,Scope Parameter,Analysis scope (promotion/category/store),Complete,URL Parameter,Map from KPI tile context to analysis scope,P0,KPI tile integration,✅ Implemented,URL-based navigation system
Drill-down Context,-,Lens Parameter,Analysis lens (engagement/performance/trend),Complete,URL Parameter,Map from KPI tile metric to analysis lens,P0,KPI tile integration,✅ Implemented,Context preservation across pages
Drill-down Context,-,Metric Parameter,Specific metric being analyzed,Complete,URL Parameter,Pass selected metric identifier,P1,Metric standardization,✅ Implemented,Used for focused analysis
Drill-down Context,-,Description Parameter,Human-readable context description,Complete,URL Parameter,Generate descriptive text for user context,P1,None,✅ Implemented,User experience enhancement
Filter System,-,Categories Multi-select,Filter promotions by category,Complete,Firebase + UI,Multi-select dropdown with normalized categories,P0,Category normalization,✅ Implemented,Hierarchical chip display
Filter System,-,Deal Types Multi-select,Filter by promotion deal type,Complete,Firebase + UI,Multi-select dropdown from deal_type field,P0,None,✅ Implemented,BOGO/$ Off/% Off/etc
Filter System,-,Size Classes Multi-select,Filter by size classification,Planned,Generated + UI,"Multi-select based on computed size classes (S/M/L)",P2,Size classification,⚠️ Mock Data Only,Requires size class generation
Filter System,-,Position Ranges Multi-select,Filter by performance position range,Complete,Computed + UI,"Multi-select: Top/Upper Mid/Lower Mid/Bottom quartiles",P1,Percentile calculation,✅ Implemented,Simplified from percentage labels
Filter System,-,Chip Hierarchy Display,Visual filter state with color coding,Complete,UI + State,"Header (#4E5370), Analysis (#4272D8), Content (#7a9130)",P1,Filter state management,✅ Implemented,Hierarchical color system
Real-time Data,-,Data Refresh Strategy,How frequently data updates,Planned,System Design,"Batch: Daily aggregation, Real-time: User interaction events",P1,Data pipeline,❌ Not Implemented,Performance vs freshness balance
Real-time Data,-,Error Handling,Graceful degradation for missing data,In Progress,UI + API,"Default values, loading states, error messages",P0,Robust data layer,⚠️ Partial Implementation,Basic error handling implemented
Real-time Data,-,Export Functionality,Data export capabilities,Planned,UI + API,"CSV/Excel export with current filter context",P2,File generation,❌ Not Implemented,User-requested feature
Performance,-,Pagination Strategy,Handle large datasets efficiently,Complete,UI + API,"Server-side pagination with 25 items per page",P1,API optimization,✅ Implemented,PrimeNG TreeTable pagination
Performance,-,Caching Strategy,Reduce API calls and improve response time,Planned,System Design,"Cache aggregated data with TTL, invalidate on data change",P1,Cache infrastructure,❌ Not Implemented,Performance optimization
Performance,-,Loading States,User feedback during data operations,Complete,UI,"Loading indicators, skeleton screens, progressive loading",P0,User experience,✅ Implemented,Loading data... states
Integration,-,GA4 Connection,Google Analytics 4 data integration,Planned,API Integration,"GA4 Reporting API with authentication and rate limiting",P0,GA4 API credentials,❌ Not Implemented,Critical for production data
Integration,-,Firebase Connection,Firebase database integration,Planned,API Integration,"Firebase Admin SDK with proper security rules",P0,Firebase credentials,❌ Not Implemented,Core data source
Integration,-,Authentication System,User access control and permissions,Planned,Security,"Role-based access with brand/store level permissions",P1,Identity provider,❌ Not Implemented,Multi-tenant considerations
Analytics API v2,-,Circular Overview Endpoint,Digital circular KPIs,Planned,API Implementation,"GET /analytics/circular/overview with pulse/engagement/audience",P0,API v2 compliance,❌ Not Implemented,Missing from current API
Analytics API v2,-,Trend Endpoint,Weekly trend analysis,Planned,API Implementation,"GET /analytics/trend with week_id normalization",P1,API v2 compliance,❌ Not Implemented,Uses week_id for consistency
Analytics API v2,-,Store Performance Endpoint,Store-level analysis,Planned,API Implementation,"GET /analytics/stores/performance with engagement vs lift",P1,API v2 compliance,❌ Not Implemented,Store scatter plot data
Analytics API v2,-,Deal Effectiveness Endpoint,Deal type performance comparison,Planned,API Implementation,"GET /analytics/deals/effectiveness with type breakdowns",P2,API v2 compliance,❌ Not Implemented,BOGO vs Discount analysis
Analytics API v2,-,Sharing Metrics Endpoint,Sharing and viral metrics,Planned,API Implementation,"GET /analytics/promotions/shares with sharing funnel",P2,API v2 compliance,❌ Not Implemented,Social sharing analytics